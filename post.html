<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>FILMIXO | Professional Movie Insights</title>  
    <meta name="description" id="dynamic-desc" content="FILMIXO: Expert movie reviews, Director & Actor insights, and technical analysis. Quality and Accuracy guaranteed.">
    <meta name="author" content="FILMIXO Editorial Team">
    <meta property="og:type" content="video.movie">
    <meta property="og:site_name" content="FILMIXO">
    <meta property="og:image" content="https://raw.githubusercontent.com/Filmixo/movie/refs/heads/main/Image Files/filmixo.jpg">
    <link rel="canonical" href="https://filmixo.com/">
    <meta name="robots" content="index, follow">
    <script type="application/ld+json" id="dynamic-schema"></script>
    
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" media="print" onload="this.media='all'">

    <style>  
    /* --- বেসিক সেটআপ --- */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, Helvetica, sans-serif; text-decoration: none; }  
    body { display: flex; justify-content: center; -webkit-tap-highlight-color: transparent; user-select: none; background: #fff; }  
    
    .main-wrapper { width: 100%; max-width: 600px; min-height: 100vh; background: #fff; position: relative; border-left: 1px solid #eee; border-right: 1px solid #eee; margin: 0 auto; contain: content; }  

    header { background: #1da1f2; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; color: white; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }  
    .logo-area { font-weight: 900; font-size: 23px; text-transform: uppercase; line-height: 1; display: flex; align-items: center; }  
    .header-btn { background: white; color: #1da1f2; padding: 6px 15px; border-radius: 15px; font-weight: bold; font-size: 12px; margin-left: 5px; cursor: pointer; display: inline-flex; align-items: center; }  

    .video-container { position: relative; width: 94%; margin: 15px auto 5px auto; aspect-ratio: 16/9; background: #000; overflow: hidden; cursor: pointer; display: flex; align-items: center; justify-content: center; border-radius: 8px; }
    .video-container img { width: 100%; height: 100%; object-fit: cover; opacity: 0.9; display: block; }
    .play-btn-center { position: absolute; width: 60px; height: 60px; background: rgba(0,0,0,0.6); border-radius: 50%; border: 3px solid #fff; display: flex; align-items: center; justify-content: center; z-index: 5; }
    .play-btn-center::after { content: ''; border-left: 20px solid white; border-top: 12px solid transparent; border-bottom: 12px solid transparent; margin-left: 5px; }
    
    .video-controls { position: absolute; bottom: 0; left: 0; width: 100%; height: 35px; padding: 0 10px; display: flex; align-items: center; background: rgba(0, 0, 0, 0.5); z-index: 10; color: white; font-size: 11px; }
    .v-divider { width: 1px; height: 12px; background: rgba(255,255,255,0.4); margin: 0 8px; }
    .prog-bg { flex-grow: 1; height: 6px; background: rgba(255, 255, 255, 0.5); border-radius: 4px; margin: 0 10px; }
    .prog-fill { width: 45%; height: 100%; background: #ff0000; border-radius: 4px; }
    .hd-badge { background: #ffad1f; color: #000; padding: 1px 4px; border-radius: 3px; font-size: 9px; font-weight: 900; }
    
    .post-author-area { padding: 12px 15px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #e1e8ed; }  
    .author-info { display: flex; align-items: center; gap: 10px; }  
    .pfp { width: 45px; height: 45px; border-radius: 50%; overflow: hidden; background: #ddd; }  
    .pfp img { width: 45px; height: 45px; object-fit: cover; }  
    .author-text h3 { font-size: 18px; color: #0f1419; display: inline-flex; align-items: center; gap: 5px; }  
    .author-text span { font-size: 12px; color: #1da1f2; display: block; }  

    .content-body { padding: 15px; }  
    .article-title { font-size: 20px; font-weight: 800; margin-bottom: 12px; color: #0f1419; line-height: 1.3; }  
    .article-para { font-size: 15px; line-height: 1.5; color: #1c1e21; margin-bottom: 15px; }
        
    .youtube-embed-wrapper { position: relative; width: 100%; padding-bottom: 56.25%; height: 0; margin: 15px 0; overflow: hidden; background: #000; border-radius: 8px; }
    .youtube-embed-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }

    .download-section { margin-top: 25px; border-top: 1px solid #eee; padding-top: 20px; text-align: center; }
    .download-title-text { font-size: 18px; font-weight: 800; margin-bottom: 20px; color: #0f1419; }  
    .download-buttons-container { display: flex; flex-direction: column; gap: 10px; padding: 0 10px; }  
    .download-btn-v2 { display: flex; align-items: center; justify-content: center; padding: 14px; border-radius: 8px; color: white; font-weight: 900; gap: 10px; cursor: pointer; }

    .stats-section { padding: 15px; margin-top: 15px; border-top: 1px solid #eee; display: flex; align-items: center; justify-content: space-between; color: #536471; }  
    .love-btn.liked { color: #e0245e; } 

    .site-footer { padding: 30px 10px; text-align: center; border-top: 1px solid #eee; background: #fafafa; }  
    .footer-links { display: flex; justify-content: center; gap: 15px; margin-bottom: 10px; }  
    .footer-links a { color: #536471; font-size: 13px; }
    </style>
</head>  
<body>  

<div class="main-wrapper" id="app-wrapper">  
    <header>  
        <div class="logo-area"><i class="fa-solid fa-clapperboard" style="margin-right: 8px;"></i>FILMIXO</div>
        <div>  
            <span class="header-btn" onclick="window.location.href='index.html'"><i class="fa-solid fa-house" style="margin-right: 5px;"></i>Home</span>
        </div>  
    </header>  

    <div id="post-details-container"></div>  

    <footer class="site-footer">  
        <div class="footer-links"> 
            <a href="about.html">About</a> <a href="contact.html">Contact</a> <a href="privacy.html">Privacy</a> 
        </div>  
        <div class="footer-copyright">Copyright © 2026 <a href="index.html">filmixo.com</a></div>  
    </footer>  
</div>  

<script type="module">  
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";  
    import { getFirestore, doc, getDoc, setDoc, increment, onSnapshot } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";  
  
    const firebaseConfig = { apiKey: "AIzaSyCAsD8wucLsudzY5oNbiixLGyjN2apdV0Q", authDomain: "my-ad-analytics-4560a.firebaseapp.com", projectId: "my-ad-analytics-4560a", storageBucket: "my-ad-analytics-4560a.firebasestorage.app", messagingSenderId: "104213283950", appId: "1:104213283950:web:b5a25ecd54df809625127f" };  
    const app = initializeApp(firebaseConfig);  
    const db = getFirestore(app);  
    
    const deviceId = localStorage.getItem('deviceId') || ('id-' + Math.random().toString(36).substr(2, 9));
    localStorage.setItem('deviceId', deviceId);

    const urlParams = new URLSearchParams(window.location.search);  
    const postId = urlParams.get('id');  
    const CONFIG = { GLOBAL_VIDEO_LINK: "https://filmixo.com/video-player" };  

    function timeAgo(s) { 
        const d=new Date(s), n=new Date(), sec=Math.floor((n-d)/1000); 
        if(sec<60)return 'Just now'; 
        const min=Math.floor(sec/60); if(min<60)return min+'m ago';
        const hr=Math.floor(min/60); if(hr<24)return hr+'h ago';
        return Math.floor(hr/24)+'d ago'; 
    }

    function renderPost(post) {  
        const pfp = "https://raw.githubusercontent.com/Filmixo/movie/refs/heads/main/Image Files/filmixo.jpg";
        const postHTML = `
            <div class="post-author-area">
                <div class="author-info">
                    <div class="pfp"><img src="${pfp}" width="45" height="45" alt="FILMIXO"></div>
                    <div class="author-text"><h3>FILMIXO <i class="fa-solid fa-circle-check" style="color:#1da1f2;font-size:15px"></i></h3><span>@filmixo</span></div>
                </div>
                <div class="post-time">${timeAgo(post.uploadTime)}</div>
            </div>

            <div class="video-container" onclick="location.href='${CONFIG.GLOBAL_VIDEO_LINK}'">
                <img src="${post.mediaImage}" decoding="async" fetchpriority="high" alt="${post.title}">
                <div class="play-btn-center"></div>
                <div class="video-controls">
                    <span>${post.videoDuration}</span>
                    <div class="v-divider"></div>
                    <div class="prog-bg"><div class="prog-fill"></div></div>
                    <span class="hd-badge">HD</span>
                </div>
            </div>

            <div class="content-body">
                <h1 class="article-title">${post.title}</h1>
                ${post.paragraphs.map(p => `<p class="article-para">${p}</p>`).join('')}
                
                ${post.youtubeEmbed ? `<div class="youtube-embed-wrapper">${post.youtubeEmbed}</div>` : ''}

                <div class="download-section">
                    <div class="download-title-text">⬇️ Download Movie in HD ⬇️</div>
                    <div class="download-buttons-container">
                        <div onclick="location.href='download.html?id=${post.id}&q=1080'" class="download-btn-v2" style="background:#D32F2F">1080P FULL HD</div>
                        <div onclick="location.href='download.html?id=${post.id}&q=720'" class="download-btn-v2" style="background:#1976D2">720P HD READY</div>
                    </div>
                </div>

                <div class="stats-section">
                    <div><i class="fa-solid fa-eye"></i> <span id="v-cnt">0</span> Views</div>
                    <div class="love-btn" id="l-btn"><i class="fa-regular fa-heart"></i> <span id="l-cnt">0</span> Likes</div>
                </div>
            </div>`;

        document.getElementById('post-details-container').innerHTML = postHTML;
        setupInteractions(post.id);
    }

    async function init() {
        try {
            const res = await fetch('posts.json');
            const data = await res.json();
            const post = data.find(p => p.id === postId) || data[0];
            renderPost(post);
        } catch (e) { console.error("Load failed"); }
    }

    function setupInteractions(id) {
        // Views increment
        setDoc(doc(db, "views", id), { count: increment(1) }, { merge: true });
        onSnapshot(doc(db, "views", id), s => document.getElementById('v-cnt').innerText = s.data()?.count || 0);
        
        // Likes logic
        const lBtn = document.getElementById('l-btn');
        onSnapshot(doc(db, "loves", id), s => document.getElementById('l-cnt').innerText = s.data()?.count || 0);
        
        lBtn.onclick = async () => {
            const uRef = doc(db, `loves/${id}/users/${deviceId}`);
            const s = await getDoc(uRef);
            if(!s.exists()) {
                await setDoc(doc(db, "loves", id), {count: increment(1)}, {merge: true});
                await setDoc(uRef, {liked: true});
                lBtn.classList.add('liked');
                lBtn.querySelector('i').className = 'fa-solid fa-heart';
            }
        };
    }

    init();
</script>  
</body>  
</html>
