
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="FILMIXO - Premium movie access. Download latest HD movies and trending blockbusters instantly.">
    <title>FILMIXO Premium movie access</title>
    
    <!-- ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø Preconnect -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="preconnect" href="https://www.gstatic.com">

    <!-- FontAwesome: ‡¶Ö‡¶∏‡¶ø‡¶ô‡ßç‡¶ï‡ßç‡¶∞‡ßã‡¶®‡¶æ‡¶∏ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç (Render Blocking ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡ßá) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">

    <!-- LCP ‡¶á‡¶Æ‡ßá‡¶ú ‡¶™‡ßç‡¶∞‡¶ø-‡¶≤‡ßã‡¶° -->
    <link rel="preload" as="image" href="https://raw.githubusercontent.com/Filmixo/movie/refs/heads/main/Image Files/FILMIXO-HUB.jpg" fetchpriority="high">

    <style>
        /* --- ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ (‡ßß‡ß¶‡ß¶% ‡¶Ö‡¶∞‡¶ø‡¶ú‡¶æ‡¶≤ ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü) --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; text-decoration: none; }
        body { background-color: #ffffff; display: flex; justify-content: center; -webkit-tap-highlight-color: transparent; user-select: none; scroll-behavior: smooth; }
        
        .main-container { background-color: white; width: 100%; max-width: 600px; min-height: 100vh; border-left: 1px solid #ddd; border-right: 1px solid #ddd; position: relative; opacity: 0; }
        .main-container.ready { opacity: 1; transition: opacity 0.2s ease-in; }

        /* ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ */
        .cover-photo { width: 100%; aspect-ratio: 18/9; position: relative; overflow: hidden; background: #000; contain: layout paint; transform: translateZ(0); }
        .cover-photo::after { content: ""; position: absolute; inset: 0; background: rgba(0,0,0,0.1); pointer-events: none; }
        
        .intro-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 6; font-size: 36px; font-weight: 900; letter-spacing: 18px; color: #fff; opacity: 0; text-shadow: 0 0 12px #fff, 0 0 28px #1da1f2; pointer-events: none; }
        
        @keyframes cinematicIntro { 
            0% { opacity: 0; transform: translate(-50%, -50%) scale(.65); filter: blur(18px); } 
            45% { opacity: 1; filter: blur(0); transform: translate(-50%, -50%) scale(1); } 
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1.4); filter: blur(12px); } 
        }

        /* ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶π‡ßá‡¶°‡¶æ‡¶∞ */
        .profile-header-area { position: relative; padding: 0 15px; display: flex; justify-content: space-between; align-items: flex-start; height: 75px; }
        .profile-pic-container { margin-top: -75px; z-index: 2; width: 140px; height: 140px; }
        .profile-pic { width: 140px; height: 140px; border-radius: 50%; border: 4px solid white; background-color: #000; overflow: hidden; }
        .profile-pic img { width: 100%; height: 100%; object-fit: cover; }
        
        .action-buttons { display: flex; gap: 8px; margin-top: 10px; }
        .btn { border: none; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: bold; color: white; cursor: pointer; display: flex; align-items: center; gap: 5px; transition: transform 0.1s; }
        .btn:active { transform: scale(0.95); } 
        .btn-email { background-color: #1da1f2; }
        .btn-share { background-color: #000; }

        /* ‡¶á‡¶®‡¶´‡ßã */
        .info-section { padding: 5px 15px 15px 15px; }
        .website-name { font-size: 22px; font-weight: 800; color: #1c1e21; text-transform: uppercase; display: flex; align-items: center; gap: 5px; }
        .username { font-size: 15px; color: #1da1f2; margin-bottom: 12px; }
        .stats { display: flex; gap: 10px; font-size: 13.5px; color: #333; margin-bottom: 8px; font-weight: 500; }
        .stats b { color: #1c1e21; font-weight: 800; } 
        .meta-info { display: flex; flex-wrap: wrap; gap: 15px; font-size: 13.5px; color: #536471; margin-bottom: 10px; }
        .bio { font-size: 16px; color: #0f1419; line-height: 1.3; }

        /* ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® */
        .nav-bar { display: flex; justify-content: space-between; padding: 10px 8px; border-top: 2px solid #e1e8ed; border-bottom: 2px solid #e1e8ed; background: #fff; position: sticky; top: 0; z-index: 100; }
        .nav-btn { flex: 1; text-align: center; padding: 8px 5px; margin: 0 4px; border-radius: 20px; font-size: 14px; font-weight: bold; cursor: pointer; border: 1px solid #e1e8ed; display: flex; align-items: center; justify-content: center; gap: 4px; background: #f0f2f5; color: #000; }
        .nav-btn.active { background-color: #000 !important; color: white !important; border-color: #000 !important; }

        /* ‡¶´‡¶ø‡¶° ‡¶ó‡ßç‡¶∞‡¶ø‡¶° */
        #feed-container { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 10px; min-height: 400px; }
        .post-card { background: white; border-bottom: 1.2px solid #e1e8ed; padding-bottom: 8px; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .media-container { position: relative; width: 100%; border-radius: 8px; overflow: hidden; background: #f0f2f5; aspect-ratio: 16 / 9; cursor: pointer; }
        .media-container img { width: 100%; height: 100%; object-fit: cover; }
        .duration-badge { position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.7); color: white; padding: 2px 5px; border-radius: 4px; font-size: 10px; font-weight: bold; }

        .post-title { font-size: 14px; font-weight: 700; color: #0f1419; margin: 8px 0 6px 0; line-height: 1.2; height: 34px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; cursor: pointer; }
        
        .card-footer-info { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #536471; font-weight: 600; }
        .love-group { display: flex; align-items: center; gap: 3px; cursor: pointer; }
        .love-group.liked { color: #e0245e; }

        /* ‡¶≤‡ßã‡¶°‡¶æ‡¶∞ */
        #sentinel { width: 100%; height: 60px; display: flex; justify-content: center; align-items: center; grid-column: span 2; }
        .loader-dots { display: none; gap: 5px; }
        .loader-dots div { width: 8px; height: 8px; background: #1da1f2; border-radius: 50%; animation: bounce 1.2s infinite; }
        @keyframes bounce { 0%, 100% { transform: scale(0.3); } 50% { transform: scale(1); } }

        .site-footer { padding: 20px; text-align: center; border-top: 1.5px solid #e1e8ed; margin-top: 20px; }
        .footer-links { display: flex; justify-content: center; gap: 15px; margin-bottom: 10px; flex-wrap: wrap; }
        .footer-links a { color: #536471; font-size: 14px; font-weight: 500; }
        
        .notification { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #000; color: #fff; padding: 10px 20px; border-radius: 20px; z-index: 2000; display: none; font-size: 13px; }
    </style>
</head>
<body>

    <div class="main-container" id="app-shell">
        <div id="cover-slider" class="cover-photo">
            <div class="intro-text" id="cinematic-logo">FILMIXO</div>
        </div>

        <div class="profile-header-area">
            <div class="profile-pic-container">
                <div class="profile-pic">
                    <img src="https://raw.githubusercontent.com/Filmixo/movie/refs/heads/main/Image Files/filmixo.jpg" alt="Profile" width="140" height="140" fetchpriority="high">
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn btn-email" onclick="location.href='mailto:contact@filmixo.com'" aria-label="Email Us"><i class="fa-solid fa-envelope"></i> Email</button>
                <button class="btn btn-share" onclick="shareProfile()" aria-label="Share Website"><i class="fa-solid fa-share-nodes"></i> Share</button>
            </div>
        </div>

        <div class="info-section">
            <h1 class="website-name">FILMIXO-HUB <i class="fa-solid fa-circle-check" style="color:#1da1f2; font-size:15px;"></i></h1>
            <p class="username">@filmixo</p>
            <div class="stats">
                <span><b id="count-vdo">0</b> Videos</span>
                <span><b id="count-views">0</b> Views</span>
            </div>
            <div class="meta-info">
                <span><i class="fa-solid fa-location-dot"></i> USA</span>
                <span><i class="fa-regular fa-calendar"></i> Joined Dec 2025</span>
            </div>
            <p class="bio">üçø Your ultimate HD movie hub. Download exclusive blockbuster releases instantly. Stop scrolling, seize the cinema.</p>
        </div>

        <nav class="nav-bar">
            <button class="nav-btn active" onclick="showFeed()" aria-label="Home"><i class="fa-solid fa-house"></i> Home</button>
            <button class="nav-btn" onclick="goToLink('https://prototypesorting.com/dkhpkccgup?key=f93978b429dfbcf244b3718ef67223ef')" aria-label="Signup"><i class="fa-solid fa-user-plus"></i> Join</button>
            <button class="nav-btn" onclick="showLogin()" aria-label="Login"><i class="fa-solid fa-lock"></i> Login</button>
            <button class="nav-btn" onclick="showSearch()" aria-label="Search"><i class="fa-solid fa-search"></i> Search</button>
        </nav>
        
        <main id="feed-container"></main>
        
        <div id="sentinel">
            <div class="loader-dots" id="loader"><div></div><div></div><div></div></div>
        </div>

        <footer class="site-footer">
            <div class="footer-links">
                <a href="#">About</a> <a href="#">Contact</a> <a href="#">Privacy</a> <a href="#">Terms</a>
            </div>
            <div class="footer-copyright">Copyright ¬© 2026 filmixo.com</div>
        </footer>
    </div>

    <div id="notification" class="notification"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
        import { getFirestore, doc, getDoc, setDoc, increment, onSnapshot, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

        const firebaseConfig = { apiKey: "AIzaSyCAsD8wucLsudzY5oNbiixLGyjN2apdV0Q", authDomain: "my-ad-analytics-4560a.firebaseapp.com", databaseURL: "https://my-ad-analytics-4560a-default-rtdb.firebaseio.com", projectId: "my-ad-analytics-4560a", storageBucket: "my-ad-analytics-4560a.firebasestorage.app", messagingSenderId: "104213283950", appId: "1:104213283950:web:b5a25ecd54df809625127f", measurementId: "G-WS7QSQ9H0Y" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const deviceId = localStorage.getItem('deviceId') || 'dv-' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('deviceId', deviceId);

        let allPosts = []; 
        let currentIndex = 0;
        const BATCH_SIZE = 10;

        const formatNum = (n) => n >= 1e6 ? (n/1e6).toFixed(1)+'M' : n >= 1e3 ? (n/1e3).toFixed(1)+'K' : n;

        // ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ (‡¶∞‡¶ï‡ßá‡¶ü ‡¶∏‡ßç‡¶™‡¶ø‡¶° ‡¶≤‡¶ú‡¶ø‡¶ï)
        function initSlider(posts) {
            const container = document.getElementById('cover-slider');
            const intro = document.getElementById('cinematic-logo');
            const items = posts.slice(0, 8);
            
            intro.style.animation = "cinematicIntro 3.5s cubic-bezier(.22,1,.36,1) forwards";

            setTimeout(() => {
                const wrap = document.createElement('div');
                wrap.style.cssText = "position:absolute;inset:0;display:flex;transition:transform 0.8s cubic-bezier(0.4,0,0.2,1);";
                wrap.innerHTML = items.map(p => `<img src="${p.mediaImage}" style="width:100%;height:100%;object-fit:cover;flex-shrink:0;width:600px" decoding="async">`).join('');
                container.appendChild(wrap);
                
                let i = 0;
                setInterval(() => {
                    i = (i + 1) % items.length;
                    wrap.style.transform = `translateX(-${i * 100}%)`;
                }, 3500);
            }, 2500);
        }

        // ‡¶´‡¶ø‡¶° ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç (Lazy Loading & Efficient Firebase)
        async function renderPosts() {
            const container = document.getElementById('feed-container');
            const loader = document.getElementById('loader');
            if (currentIndex >= allPosts.length) return;

            loader.style.display = 'flex';
            const batch = allPosts.slice(currentIndex, currentIndex + BATCH_SIZE);
            
            batch.forEach(post => {
                const card = document.createElement('article');
                card.className = 'post-card';
                card.innerHTML = `
                    <div class="media-container" onclick="location.href='/movie/post.html?id=${post.id}'">
                        <img src="${post.mediaImage}" loading="lazy" alt="Movie" decoding="async">
                        <div class="duration-badge">${post.videoDuration}</div>
                    </div>
                    <h2 class="post-title" onclick="location.href='/movie/post.html?id=${post.id}'">${post.title}</h2>
                    <div class="card-footer-info">
                        <span><i class="fa-solid fa-chart-simple"></i> <span id="v-${post.id}">0</span></span>
                        <div class="love-group" id="l-btn-${post.id}" onclick="event.stopPropagation(); handleLove('${post.id}')">
                            <i class="fa-regular fa-heart"></i> <span id="l-${post.id}">0</span>
                        </div>
                        <span>${new Date(post.uploadTime).toLocaleDateString()}</span>
                    </div>
                `;
                container.appendChild(card);
                
                // ‡¶∞‡¶ø‡ßü‡ßá‡¶≤ ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶•‡¶æ‡¶ï‡¶æ ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø (PageSpeed ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶™‡ßç‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú‡¶°)
                setTimeout(() => {
                    onSnapshot(doc(db, "views", post.id), s => { if(s.exists()) document.getElementById(`v-${post.id}`).innerText = formatNum(s.data().count); });
                    onSnapshot(doc(db, "loves", post.id), s => { if(s.exists()) document.getElementById(`l-${post.id}`).innerText = formatNum(s.data().count); });
                }, 1000);
            });

            currentIndex += BATCH_SIZE;
            loader.style.display = 'none';
        }

        async function init() {
            try {
                const res = await fetch('posts.json');
                allPosts = (await res.json()).sort((a,b) => new Date(b.uploadTime) - new Date(a.uploadTime));
                
                document.getElementById('app-shell').classList.add('ready');
                document.getElementById('count-vdo').innerText = formatNum(allPosts.length);
                
                initSlider(allPosts);
                renderPosts();
                
                const observer = new IntersectionObserver((e) => {
                    if(e[0].isIntersecting) renderPosts();
                }, { rootMargin: '400px' });
                observer.observe(document.getElementById('sentinel'));

                // ‡¶ü‡ßã‡¶ü‡¶æ‡¶≤ ‡¶≠‡¶ø‡¶â‡¶∏ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶∂‡¶® (‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá)
                getDocs(collection(db, "views")).then(snap => {
                    let total = 0;
                    snap.forEach(d => total += d.data().count || 0);
                    document.getElementById('count-views').innerText = formatNum(total);
                });

            } catch (err) { console.error(err); }
        }

        window.shareProfile = () => {
            if(navigator.share) navigator.share({ title: 'Filmixo Hub', url: window.location.href });
            else { navigator.clipboard.writeText(window.location.href); alert("Link Copied!"); }
        };

        window.goToLink = (url) => location.href = url;
        window.showFeed = () => location.reload();

        init();
    </script>
</body>
</html>
